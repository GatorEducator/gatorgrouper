{% extends "gatorgrouper/base.html" %}
{% block content %}

<h1>{{user.first_name}}'s Profile</h1>

<div class="class-container">
  {% if all_classes|length > 0 %}
  {% for class in all_classes %}
  <div class="class-bigbox row">
    <h2 class="col-12">{{ class }}</h2>
    <!-- Both Tables  -->

      <!-- Start of Class asspect -->

        <!-- Start of class table -->
        <div class="table-responsive col-6">
          <table>
            <tr>
              <th>Projects:</th>
            </tr>

            {% for assignment in all_assignments %}
            {% if assignment.class_id == class  %}
            <tr>
              <td><a href="{% url 'Gatorgrouper-groups' %}">{{ assignment.assignment_name }}</a></td>
            </tr>

            {% endif %}
            {% endfor %}

            <tr>
              <td>
                <a href="{% url 'Gatorgrouper-assignments' %}" class="btn btn-danger btn-block">Add Assignment</a>
              </td>
            </tr>

          </table>
        </div>
        <!-- End of Class Table -->

      <!-- End of Class asspect -->

      <!-- Start of student asspect -->

        <!-- Start of Student Table  -->
        <div class="table-responsive col">
          <table>
            <tr>
              <th>Students</th>
            </tr>

            {% for student in all_students %}
            {% if student.class_id == class  %}
            <tr>
              <td>
                <p>{{ student.first_name }} {{ student.last_name }}</p>
              </td>
            </tr>
            {% endif %}
            {% endfor %}

            <tr>
              <td>
                <a href="{% url 'add-students' %}" class="btn btn-danger btn-block">Add Student</a>
              </td>
            </tr>

          </table>
        </div>
        <!-- End of Student Table -->


      <!-- End of Student asspect -->


    <!-- End of Both Tables -->
  </div>
  <!-- End of Big Box -->
  {% endfor %}
  {% else %}
  <p> Please add a class and create students to view them in your profile</p>
  {% endif %}
</div>
<!-- End of class-container -->
{% endblock %}
